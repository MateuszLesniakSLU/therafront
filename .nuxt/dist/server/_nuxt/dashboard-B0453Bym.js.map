{"version":3,"file":"dashboard-B0453Bym.js","sources":["../../../../pages/doctor/dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-4\">\r\n    <h1 class=\"text-3xl font-bold mb-4\">Panel Lekarza</h1>\r\n    <div v-if=\"loading\" class=\"text-center\">Ładowanie...</div>\r\n    <div v-else>\r\n      <h2 class=\"text-2xl font-semibold mb-2\">Lista Pacjentów</h2>\r\n      <ul>\r\n        <li\r\n            v-for=\"patient in patients\"\r\n            :key=\"patient.id\"\r\n            class=\"border rounded p-2 mb-2 flex justify-between items-center\"\r\n        >\r\n          <div>\r\n            <p class=\"font-bold\">{{ patient.name }}</p>\r\n            <p class=\"text-sm text-gray-600\">{{ patient.email }}</p>\r\n          </div>\r\n          <nuxt-link :to=\"`/doctor/patients/${patient.id}`\" class=\"text-blue-500 hover:underline\">\r\n            Szczegóły\r\n          </nuxt-link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\ndefinePageMeta({\r\n  layout: 'doctor',\r\n  middleware: 'auth',\r\n})\r\n\r\nconst patients = ref<any[]>([])\r\nconst loading = ref(true)\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const token = localStorage.getItem('token')\r\n    const response = await axios.get('http://localhost:3000/patients', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n    patients.value = response.data\r\n  } catch (error) {\r\n    console.error('Błąd podczas pobierania pacjentów:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAkCM,UAAA,WAAW,IAAW,EAAE;AACxB,UAAA,UAAU,IAAI,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}