{"version":3,"file":"create-patient-DBOfsWE-.js","sources":["../../../../pages/doctor/create-patient.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-6\">\r\n    <h1 class=\"text-3xl font-bold mb-4\">Dodaj nowego pacjenta</h1>\r\n\r\n    <form @submit.prevent=\"submitPatient\" class=\"space-y-4 bg-white p-6 rounded shadow\">\r\n      <div>\r\n        <label class=\"block font-medium\">Imię i nazwisko</label>\r\n        <input v-model=\"patient.name\" type=\"text\" class=\"w-full p-2 border rounded\" required />\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"block font-medium\">Email</label>\r\n        <input v-model=\"patient.email\" type=\"email\" class=\"w-full p-2 border rounded\" required />\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"block font-medium\">Hasło</label>\r\n        <input v-model=\"patient.password\" type=\"password\" class=\"w-full p-2 border rounded\" required />\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\">\r\n        Dodaj Pacjenta\r\n      </button>\r\n    </form>\r\n\r\n    <p v-if=\"successMessage\" class=\"text-green-600 mt-2\">{{ successMessage }}</p>\r\n    <p v-if=\"errorMessage\" class=\"text-red-600 mt-2\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\n\r\ndefinePageMeta({\r\n  layout: 'doctor',\r\n  middleware: 'auth',\r\n})\r\n\r\nconst patient = ref({\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n});\r\n\r\nconst successMessage = ref('');\r\nconst errorMessage = ref('');\r\n\r\nasync function submitPatient() {\r\n  successMessage.value = '';\r\n  errorMessage.value = '';\r\n\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    await axios.post('http://localhost:3000/patients', patient.value, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    successMessage.value = 'Pacjent został dodany!';\r\n    patient.value = { name: '', email: '', password: '' };\r\n  } catch (error) {\r\n    errorMessage.value = error.response?.data?.message || 'Błąd podczas dodawania pacjenta';\r\n  }\r\n}\r\n</script>\r\n"],"names":[],"mappings":";;;;;;;AAuCA,UAAM,UAAU,IAAI;AAAA,MAClB,MAAM;AAAA,MACN,OAAO;AAAA,MACP,UAAU;AAAA,IACZ,CAAC;AAED,UAAM,iBAAiB,IAAI,EAAE;AAC7B,UAAM,eAAe,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;"}