{"version":3,"file":"dashboard-DoeqpRsr.js","sources":["../../../../pages/patient/dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-4\">\r\n    <h1 class=\"text-3xl font-bold mb-4\">Panel Pacjenta</h1>\r\n\r\n    <div v-if=\"loading\" class=\"text-center\">Ładowanie...</div>\r\n\r\n    <div v-else>\r\n      <h2 class=\"text-2xl font-semibold mt-4 mb-2\">Twoje ankiety</h2>\r\n\r\n      <div v-if=\"surveys.length === 0\" class=\"text-gray-500\">Brak wypełnionych ankiet.</div>\r\n\r\n      <ul v-else class=\"space-y-2\">\r\n        <li v-for=\"survey in surveys\" :key=\"survey._id\" class=\"p-4 bg-white rounded shadow\">\r\n          <p><strong>Data:</strong> {{ survey.date }}</p>\r\n          <p><strong>Samopoczucie:</strong> {{ survey.moodScore }}/10</p>\r\n          <p><strong>Wydarzenia:</strong> {{ survey.moodInfluencingFactors.join(\", \") }}</p>\r\n          <p><strong>Pozytywne:</strong> {{ survey.positiveEvents || \"Brak\" }}</p>\r\n          <p><strong>Negatywne:</strong> {{ survey.negativeEvents || \"Brak\" }}</p>\r\n          <p><strong>Leki:</strong> {{ survey.tookMedication ? \"Tak\" : \"Nie\" }}</p>\r\n        </li>\r\n      </ul>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\ndefinePageMeta({\r\n  layout: 'patient',\r\n  middleware: 'auth',\r\n})\r\n\r\nconst surveys = ref([])\r\nconst loading = ref(true)\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const token = localStorage.getItem('token')\r\n    const response = await axios.get('http://localhost:3000/surveys', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n    surveys.value = response.data\r\n  } catch (error) {\r\n    console.error('Błąd podczas pobierania ankiet:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n})\r\n</script>\r\n"],"names":[],"mappings":";;;;;;;AAmCA,UAAM,UAAU,IAAI,EAAE;AACtB,UAAM,UAAU,IAAI,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}