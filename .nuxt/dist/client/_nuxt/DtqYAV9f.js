import{_ as u}from"./BoxhHWeB.js";import{a as m}from"./DW_MHI2K.js";import{u as p,r as i,n as _,c as o,o as s,a as t,F as x,x as f,b,t as d,w as h,d as y}from"./m7XX1WG5.js";const k={class:"p-4"},v={key:0,class:"text-center"},g={key:1},w={class:"font-bold"},z={class:"text-sm text-gray-600"},S=p({__name:"dashboard",setup(B){const r=i([]),l=i(!0);return _(async()=>{try{const a=localStorage.getItem("token"),e=await m.get("http://localhost:3000/patients",{headers:{Authorization:`Bearer ${a}`}});r.value=e.data}catch(a){console.error("Błąd podczas pobierania pacjentów:",a)}finally{l.value=!1}}),(a,e)=>{const c=u;return s(),o("div",k,[e[2]||(e[2]=t("h1",{class:"text-3xl font-bold mb-4"},"Panel Lekarza",-1)),l.value?(s(),o("div",v,"Ładowanie...")):(s(),o("div",g,[e[1]||(e[1]=t("h2",{class:"text-2xl font-semibold mb-2"},"Lista Pacjentów",-1)),t("ul",null,[(s(!0),o(x,null,f(r.value,n=>(s(),o("li",{key:n.id,class:"border rounded p-2 mb-2 flex justify-between items-center"},[t("div",null,[t("p",w,d(n.name),1),t("p",z,d(n.email),1)]),b(c,{to:`/doctor/patients/${n.id}`,class:"text-blue-500 hover:underline"},{default:h(()=>e[0]||(e[0]=[y(" Szczegóły ")])),_:2},1032,["to"])]))),128))])]))])}}});export{S as default};
