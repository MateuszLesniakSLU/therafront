import{r,c as d,a,p as m,q as u,v as i,s as c,t as v,o as p}from"./m7XX1WG5.js";import{a as w}from"./DW_MHI2K.js";const f={class:"p-6"},g={key:0,class:"text-green-600 mt-2"},y={key:1,class:"text-red-600 mt-2"},B={__name:"create-patient",setup(x){const s=r({name:"",email:"",password:""}),o=r(""),l=r("");async function b(){var n,e;o.value="",l.value="";try{const t=localStorage.getItem("token");await w.post("http://localhost:3000/patients",s.value,{headers:{Authorization:`Bearer ${t}`}}),o.value="Pacjent został dodany!",s.value={name:"",email:"",password:""}}catch(t){l.value=((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.message)||"Błąd podczas dodawania pacjenta"}}return(n,e)=>(p(),d("div",f,[e[7]||(e[7]=a("h1",{class:"text-3xl font-bold mb-4"},"Dodaj nowego pacjenta",-1)),a("form",{onSubmit:c(b,["prevent"]),class:"space-y-4 bg-white p-6 rounded shadow"},[a("div",null,[e[3]||(e[3]=a("label",{class:"block font-medium"},"Imię i nazwisko",-1)),u(a("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.name=t),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[i,s.value.name]])]),a("div",null,[e[4]||(e[4]=a("label",{class:"block font-medium"},"Email",-1)),u(a("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.email=t),type:"email",class:"w-full p-2 border rounded",required:""},null,512),[[i,s.value.email]])]),a("div",null,[e[5]||(e[5]=a("label",{class:"block font-medium"},"Hasło",-1)),u(a("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.password=t),type:"password",class:"w-full p-2 border rounded",required:""},null,512),[[i,s.value.password]])]),e[6]||(e[6]=a("button",{type:"submit",class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"}," Dodaj Pacjenta ",-1))],32),o.value?(p(),d("p",g,v(o.value),1)):m("",!0),l.value?(p(),d("p",y,v(l.value),1)):m("",!0)]))}};export{B as default};
