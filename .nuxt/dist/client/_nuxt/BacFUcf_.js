import{a as p}from"./DW_MHI2K.js";import{C as n,r as u}from"./HW-i3O8x.js";import{u as m,r as l,n as f,c as v,a as c,o as _}from"./m7XX1WG5.js";import{_ as x}from"./DlAUqK2U.js";const y={class:"p-4"},g=m({__name:"mood-history",setup(b){n.register(...u);const e=l(null),o=l([]);async function i(){try{const t=localStorage.getItem("patientId")||"",a=await p.get("http://localhost:3000/surveys",{params:{patientId:t}});o.value=a.data}catch(t){console.error("Błąd podczas pobierania ankiet:",t)}}function d(){if(!e.value)return;const t=o.value.map(s=>s.date),a=o.value.map(s=>s.moodScore),r=e.value.getContext("2d");r&&new n(r,{type:"line",data:{labels:t,datasets:[{label:"Ocena Nastroju",data:a,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.3}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Trend Nastroju"}},scales:{y:{min:1,max:10,ticks:{stepSize:1}}}}})}return f(async()=>{await i(),d()}),(t,a)=>(_(),v("div",y,[a[0]||(a[0]=c("h2",{class:"text-2xl font-bold mb-4"},"Historia Nastroju",-1)),c("canvas",{ref_key:"chartCanvas",ref:e,class:"w-full max-w-3xl mx-auto"},null,512)]))}}),S=x(g,[["__scopeId","data-v-93a3e2d8"]]);export{S as default};
